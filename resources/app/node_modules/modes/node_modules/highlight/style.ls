require! {
	'./color'
	'./font'
}
{Color} = color
{Font} = font



class Style
	@factory = (input) -> if input instanceof @@ => input else new @@ ...

	(input) ~>
		spec = switch typeof! input
		| 'String', 'Number' => {color: input}
		| 'Object' => input
		| _ => {}

		# color ----------------------------------------------------------------

		{color, c} = spec

		color? ?= c

		if color? => color = Color.factory color

		@color? = color

		# background color -----------------------------------------------------

		{background, backgroundColor, bg, bc} = spec

		background? ?= backgroundColor
		background? ?= bg
		background? ?= bc

		if background? => background = Color.factory background

		@background? = background

		# font -----------------------------------------------------------------

		{font, f} = spec

		font? ?= f

		font? = spec

		if font? => font = Font.factory font

		@font? = font



exports <<< {
	Style
}
