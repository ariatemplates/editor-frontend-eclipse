Common resources used by parsers generated with PEG.js

# File system layout

* [`README.md`](./README.md): this current file
* [`initializer.js`](./initializer.js): a module gathering everything that should be exported for initialization blocks of grammar files.
* [`helpers.js`](./helpers.js): contains utility functions to be used inside grammar files, where the code is really repetitive, follows some pattern, and is somewhat constrained.
* [`parser.js`](./parser.js): `Parser`
* [`test.js`](./test.js): __TO MOVE__ a module able to _visually_ test parsers generated by PEG.js
* [`logger.js`](./logger.js): a module to specifically log test results (see previous module), with sepcial handling of models underneath (graphs, source code, ...)

# Versioning

To version: _everything_.

# Contribute

## FIXME

* There are problems building a parser programatically, especially because of the use of require inside the grammar, in the context of the `eval` it doesn't work.

## Backlog

### Node instanciation hooks

__There could be a feature of hooking the node instanciation to simplify the grammar.__

After a node is instanciated, a hook could be called baseed on a predicate.

Just register a hook associated to a predicate. When a node is instanciated, it runs through all predicates, and corresponding hooks will be applied if they pass.

This way it could be easier to flag a node with some properties for instance, based on node attributes.

> Example?

Use a predicate testing if the element type of the node is among the list of elements corresponding to blocks. If so, add a flag to the node telling it's a block. (we don't mind for the sake of the example if the practice is good or not).

## Development paths

### Initializer

You can gather anything you want to expose to PEG.js grammar in the [_initializer_](./initializer.js) module file.

This file should not contain any logic, it should just import modules and re-export them, gathering the whole, and possibly renaming, aliasing, whatever.

It's just a bridge between libraries and PEG.js grammars.

### Helpers

Add in the [_helper_](./helper.js) module file anything that would simplify the code in PEG.js grammars.

Inside it, you will find code that will reduce boilerplate, workaround some limitations, etc.

### Parser

You can work on the [_parser_](./parser.js) module file. Please refer to the section about the `Parser` model.

Check if the post-process in used already. If not, remove it from here. If yes, try to find an alternative. Otherwise, stick with it.

# Documentation

## Parser

A wrapper for PEG.js generated parsers.

This module is an adapter for parsers generated by PEG.js.

It's a wrapper class that will know how to make the parsing service defined for _modes_ work with such kind of parser.

___Pending concept___: the rest of this section needs review and work

It uses the generated parser to parse an input, and then is able to do some post-processing, and so on.

You can either use it, in this case it's more or less like using the generated parser, or sub-class it, to implement post-processing.

### Post-processing

The generated parser does really little things. It's almost like a token wrapper, just ordering them into a tree.

It is really hard to do a lot in the grammar, which has a limited concept, and is stuck to be used through a DSL.

The post-processing is there to do several things:

* fix
* compute
* re-arrange
* transform
* ...

# References

* PEG.js [GitHub repository](https://github.com/dmajda/pegjs): what's on the GH repository is more up-to-date that what is on the [official website](http://pegjs.majda.cz/). We use the GH version of the library.
