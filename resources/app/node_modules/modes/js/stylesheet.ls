################################################################################
# Tokens - Factory
#
# FIXME The style property should not exist, it's far easier to use flags (for italic, bold, ...) to be able to combine them
# TODO Create a class for that, accepting better inputs.
################################################################################

tokenFactory = ->
	[color, bgcolor, font, height, style] = it

	transformToken {
		color
		bgcolor
		font = {
			name: font
			height
			style
		}
	}


################################################################################
# Stylesheet - Factory & definition
################################################################################

build = (def, specs) -> {
	'default': tokenFactory def
	tokens: {[spec.0, tokenFactory spec[1 to]] for spec in specs}
}





_default = [black, white, 'Consolas' 12 'normal']
tokens = [
	['Keyword' blue]
	['Comment' greenScale 128, , , , 'italic']
	['Punctuator' red, , , , 'bold']
	['Numeric' rgb 64 128 32]
]

return module.exports = build _default, tokens
